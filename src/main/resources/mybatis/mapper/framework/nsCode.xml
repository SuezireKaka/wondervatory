<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="www.wonder.vatory.framework.mapper.CodeMapper">
	<resultMap id="rmCodeVO" type="www.wonder.vatory.framework.model.CodeVO">
		<result property="codeType" column="code_type" />
		<result property="codeVal" column="code_val" />
		<result property="validationRe" column="validation_re" />
	</resultMap>
	
	<resultMap id="rmRemoconVO" type="www.wonder.vatory.framework.model.RemoconVO">
		<result property="name" column="remocon_name" />
		<collection property="remoteKeyList" columnPrefix="key_"
			resultMap="rmRemoteKeyVO"/>
	</resultMap>
	
	<resultMap id="rmRemoteKeyVO" type="www.wonder.vatory.framework.model.RemoteKeyVO">
		<result property="name" column="name" />
		<result property="use" column="use" />
		<result property="clickCnt" column="click_cnt" />
	</resultMap>

	<!-- public List<CodeVO> listAll(); -->
	<select id="listAll" resultMap="rmCodeVO">
		select * from T_CODE where Code_type = 'contect point type'
	</select>
	
	<!-- public RemoconVO getRemoconByName(String name); -->
	<select id="getRemoconByName" resultMap="rmRemoconVO">
		select *
		  from T_sys_remocon
		 where remocon_name = #{name}
	</select>
</mapper>
